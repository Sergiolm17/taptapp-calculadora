<nav class="bg-slate-800 p-4 mb-4 sm:mb-8 relative">
    <!-- Hamburger menu para móvil -->
    <div class="md:hidden">
        <button id="menuToggle" class="text-white focus:outline-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </div>

    <!-- Menú para pantallas medianas y grandes -->
    <ul class="hidden md:flex justify-center gap-4 lg:gap-8 list-none p-0 m-0">
        <li>
            <a 
                href="/" 
                class={`text-white px-2 sm:px-4 py-2 rounded-md transition-colors hover:bg-slate-700 
                ${Astro.url.pathname === "/" ? "bg-blue-500" : ""}`}
            >
                Calculadora de Costos
            </a>
        </li>
        <li>
            <a 
                href="/imagen" 
                class={`text-white px-2 sm:px-4 py-2 rounded-md transition-colors hover:bg-slate-700 
                ${Astro.url.pathname === "/imagen" ? "bg-blue-500" : ""}`}
            >
                Calculadora de Impresión
            </a>
        </li>
        <li>
            <a 
                href="/pdf" 
                class={`text-white px-2 sm:px-4 py-2 rounded-md transition-colors hover:bg-slate-700 
                ${Astro.url.pathname === "/pdf" ? "bg-blue-500" : ""}`}
            >
                Calculadora PDF
            </a>
        </li>
        <li>
            <a 
                href="/comparador" 
                class={`text-white px-2 sm:px-4 py-2 rounded-md transition-colors hover:bg-slate-700 
                ${Astro.url.pathname === "/comparador" ? "bg-blue-500" : ""}`}
            >
                Comparador
            </a>
        </li>
        <li>
            <a 
                href="/admin" 
                class={`text-white px-2 sm:px-4 py-2 rounded-md transition-colors hover:bg-slate-700 
                ${Astro.url.pathname === "/admin" ? "bg-blue-500" : ""}`}
            >
                Administración
            </a>
        </li>
    </ul>

    <!-- Sidebar para móvil - oculto por defecto -->
    <div id="mobileSidebar" class="fixed inset-y-0 left-0 transform -translate-x-full md:hidden transition duration-200 ease-in-out z-30 w-64 bg-slate-800 shadow-lg">
        <div class="p-5">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-white text-xl font-semibold">Menú</h2>
                <button id="closeSidebar" class="text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <ul class="flex flex-col gap-4 list-none p-0 m-0">
                <li>
                    <a 
                        href="/" 
                        class={`text-white px-4 py-2 rounded-md transition-colors hover:bg-slate-700 block
                        ${Astro.url.pathname === "/" ? "bg-blue-500" : ""}`}
                    >
                        Calculadora de Costos
                    </a>
                </li>
                <li>
                    <a 
                        href="/imagen" 
                        class={`text-white px-4 py-2 rounded-md transition-colors hover:bg-slate-700 block
                        ${Astro.url.pathname === "/imagen" ? "bg-blue-500" : ""}`}
                    >
                        Calculadora de Impresión
                    </a>
                </li>
                <li>
                    <a 
                        href="/pdf" 
                        class={`text-white px-4 py-2 rounded-md transition-colors hover:bg-slate-700 block
                        ${Astro.url.pathname === "/pdf" ? "bg-blue-500" : ""}`}
                    >
                        Calculadora PDF
                    </a>
                </li>
                <li>
                    <a 
                        href="/comparador" 
                        class={`text-white px-4 py-2 rounded-md transition-colors hover:bg-slate-700 block
                        ${Astro.url.pathname === "/comparador" ? "bg-blue-500" : ""}`}
                    >
                        Comparador
                    </a>
                </li>
                <li>
                    <a 
                        href="/admin" 
                        class={`text-white px-4 py-2 rounded-md transition-colors hover:bg-slate-700 block
                        ${Astro.url.pathname === "/admin" ? "bg-blue-500" : ""}`}
                    >
                        Administración
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Overlay para cerrar el sidebar al hacer clic fuera -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black opacity-0 pointer-events-none transition-opacity duration-200 ease-in-out z-20"></div>
</nav>

<script is:inline>
    // Toggle para abrir/cerrar el sidebar en dispositivos móviles
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menuToggle');
        const mobileSidebar = document.getElementById('mobileSidebar');
        const closeSidebar = document.getElementById('closeSidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        function openSidebar() {
            mobileSidebar.classList.remove('-translate-x-full');
            sidebarOverlay.classList.remove('opacity-0', 'pointer-events-none');
            sidebarOverlay.classList.add('opacity-50');
        }

        function closeSidebarFunc() {
            mobileSidebar.classList.add('-translate-x-full');
            sidebarOverlay.classList.add('opacity-0', 'pointer-events-none');
            sidebarOverlay.classList.remove('opacity-50');
        }

        menuToggle.addEventListener('click', openSidebar);
        closeSidebar.addEventListener('click', closeSidebarFunc);
        sidebarOverlay.addEventListener('click', closeSidebarFunc);
    });
</script>

<style>
    @media (max-width: 768px) {
        nav {
            padding: 0.75rem 1rem;
        }
    }
</style> 